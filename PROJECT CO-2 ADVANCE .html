<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Bus Ticket Booking</title>
    <style>
        /* General Styles */
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #00B4DB, #0083B0);
            color: #fff;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        h1, h2 {
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
        }

        /* Header Styling */
        header {
            background: rgba(56, 161, 105, 0.9);
            color: white;
            padding: 30px 0;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            transition: background 0.3s ease-in-out;
        }

        header h1 {
            font-size: 2.5rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        header p {
            font-size: 1.2rem;
            margin-top: 5px;
        }

        /* Container */
        .container {
            width: 85%;
            max-width: 1200px;
            margin: auto;
            padding: 20px;
        }

        /* Form Section */
        .form-section {
            background: #fff;
            color: #333;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            margin: 30px 0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .form-section:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        }

        .form-section h2 {
            color: #38a169;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }

        .form-section p {
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        /* Form Elements */
        form input, form select, form textarea {
            width: 100%;
            padding: 14px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-size: 1rem;
            transition: all 0.3s ease-in-out;
        }

        form input:focus, form select:focus, form textarea:focus {
            border-color: #38a169;
            outline: none;
            box-shadow: 0 0 8px rgba(56, 161, 105, 0.5);
        }

        form button {
            background-color: #38a169;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: background-color 0.3s ease-in-out, transform 0.3s ease;
        }

        form button:hover {
            background-color: #2f855a;
            transform: scale(1.05);
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        .button-group button {
            flex: 1;
            padding: 12px 20px;
            background-color: #e53e3e;
            border: none;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease-in-out, transform 0.3s ease;
        }

        .button-group button:hover {
            background-color: #c53030;
            transform: scale(1.05);
        }

        /* Booking Summary Section */
        #booking-summary {
            background: #f4f4f9;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            color: #333;
        }

        #booking-summary p {
            font-size: 1.2rem;
        }

        footer {
            background-color: #333;
            color: white;
            padding: 15px 0;
            text-align: center;
            margin-top: 50px;
            font-size: 1rem;
            box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.2);
        }

        /* Loading spinner */
        #loading-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-size: 1.2rem;
            display: none;
        }

        /* Progress Bar Style */
        #progress-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        #progress-bar span {
            font-size: 1.1rem;
            color: #fff;
        }

        #progress-bar span.active {
            color: #38a169;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <header>
        <h1>Bus Ticket Booking üöç</h1>
        <p>Choose a bus service and book your ticket online</p>
    </header>

    <div class="container">
        <!-- Progress Bar -->
        <div id="progress-bar">
            <span id="step1" class="active">Step 1: Select Bus Service</span>
            <span id="step2">Step 2: Choose Travel Preferences</span>
            <span id="step3">Step 3: Confirm Booking</span>
        </div>

        <!-- Bus Selection Section -->
        <section class="form-section fade-in" id="busSelectionSection">
            <h2><span>üöç</span> Select Your Bus Service</h2>
            <p>Please choose the bus service you want to book a ticket for:</p>
            <form id="busSelectionForm">
                <label for="bus-service">Bus Service:</label>
                <select name="bus-service" id="bus-service" required>
				    <option value="SELECT THE BUS SERVICE">SELECT THE BUS SERVICE </option>
                    <option value="TSRTC">TSRTC (Telangana)</option>
                    <option value="APSRTC">APSRTC (Andhra Pradesh)</option>
                    <option value="TNSTC">TNSTC (Tamil Nadu)</option>
                    <option value="OSRTC">OSRTC (Odisha)</option>
                    <option value="OrangeTravels">ORANGE TRAVELS</option>
                    <option value="GarudaTravels">GARUDA TRAVELS</option>
                    <option value="MorningStarTravels">MORNING STAR TRAVELS</option>
                </select>
                <button type="button" onclick="redirectToBusWebsite()">Proceed to Booking</button>
            </form>
        </section>

        <!-- Instructions Section -->
        <section class="form-section fade-in" id="instructions" style="display:none;">
            <h2><span>‚è∞</span> Choose Your Bus Type</h2>
            <p id="bus-service-name"></p>
            <p>Please select the type of bus you prefer:</p>
            <select name="bus-type" id="bus-type" required>
                <option value="AC">AC Bus</option>
                <option value="Non-AC">Non-AC Bus</option>
                <option value="Sleeper">Sleeper Bus</option>
            </select>

            <!-- Date and Time Selection -->
            <label for="travel-date"><span>üìÖ</span> Select Travel Date:</label>
            <input type="date" id="travel-date" required>

            <label for="travel-time"><span>‚è∞</span> Select Travel Time:</label>
            <input type="time" id="travel-time" required>

            <!-- Seat Selection -->
            <label for="seat-selection"><span>üí∫</span> Select Your Seat:</label>
            <select name="seat-selection" id="seat-selection" required>
                <option value="Window">Window Seat</option>
                <option value="Aisle">Aisle Seat</option>
                <option value="Middle">Middle Seat</option>
            </select>

            <!-- Passenger Details -->
            <h3><span>üë§</span> Passenger Details</h3>
            <label for="passenger-name">Full Name:</label>
            <input type="text" id="passenger-name" placeholder="Enter your name" required>

            <label for="passenger-email"><span>üìß</span> Email Address:</label>
            <input type="email" id="passenger-email" placeholder="Enter your email" required>

            <div class="button-group">
                <button type="button" onclick="redirectToBookingPage()">Book Now <span>üé´</span></button>
                <button type="button" onclick="goBackToBusSelection()">Return</button>
            </div>
        </section>

        <!-- Booking Summary Section -->
        <section class="form-section fade-in" id="booking-summary" style="display:none;">
            <h2><span>üé´</span> Booking Summary</h2>
            <p id="summary-details"></p>
            <button type="button" onclick="confirmBooking()">Confirm Booking ‚úÖ</button>
            <button type="button" onclick="goBackToBusSelection()">Return to Edit</button>
        </section>

        <!-- Loading Message -->
        <div id="loading-message">Processing your booking...</div>
    </div>

    <footer>
        <p>&copy; 2025 Bus Ticket Booking. All Rights Reserved.</p>
    </footer>

    <script>
        const busServiceUrls = {
            'TSRTC': 'https://www.tsrtc.telangana.gov.in',
            'APSRTC': 'https://www.apsrtc.ap.gov.in',
            'TNSTC': 'https://www.tnstc.in',
            'OSRTC': 'https://www.osrtc.in',
            'OrangeTravels': 'https://www.orangetravels.in',
            'GarudaTravels': 'https://www.garudatravels.in',
            'MorningStarTravels': 'https://www.morningstartravels.in'
        };

        const busTypesByService = {
            'TSRTC': ['AC', 'Non-AC'],
            'APSRTC': ['AC', 'Sleeper'],
            'OrangeTravels': ['AC', 'Non-AC', 'Sleeper'],
        };

        function updateBusTypes() {
            const busService = document.getElementById("bus-service").value;
            const busTypes = busTypesByService[busService] || ['AC', 'Non-AC', 'Sleeper'];
            const busTypeSelect = document.getElementById("bus-type");
            busTypeSelect.innerHTML = '';
            busTypes.forEach(type => {
                const option = document.createElement("option");
                option.value = type;
                option.text = type;
                busTypeSelect.appendChild(option);
            });
        }

        function redirectToBusWebsite() {
            const busService = document.getElementById("bus-service").value;
            sessionStorage.setItem('selectedBusService', busService);
            document.getElementById('busSelectionSection').style.display = 'none';
            document.getElementById('instructions').style.display = 'block';
            document.getElementById("bus-service-name").innerText = `You have selected ${busService}`;
            updateBusTypes();
            updateProgressBar(2);
        }

        function redirectToBookingPage() {
            const passengerName = document.getElementById("passenger-name").value;
            const passengerEmail = document.getElementById("passenger-email").value;
            const busService = sessionStorage.getItem('selectedBusService');
            const travelDate = document.getElementById("travel-date").value;
            const travelTime = document.getElementById("travel-time").value;
            const seatSelection = document.getElementById("seat-selection").value;

            // Validate fields
            if (!passengerName || !passengerEmail || !travelDate || !travelTime || !seatSelection) {
                alert('Please fill out all fields');
                return;
            }

            // Validate Email
            const emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;
            if (!emailRegex.test(passengerEmail)) {
                alert('Please enter a valid email address');
                return;
            }

            // Validate date: ensure travel date is in the future
            const travelDateObj = new Date(travelDate);
            const today = new Date();
            if (travelDateObj < today) {
                alert("Please select a valid travel date.");
                return;
            }

            // Show booking summary
            document.getElementById('instructions').style.display = 'none';
            document.getElementById('booking-summary').style.display = 'block';
            document.getElementById('summary-details').innerHTML = `
                <strong>Bus Service:</strong> ${busService}<br>
                <strong>Passenger Name:</strong> ${passengerName}<br>
                <strong>Seat:</strong> ${seatSelection}<br>
                <strong>Date:</strong> ${travelDate}<br>
                <strong>Time:</strong> ${travelTime}<br>
                <strong>Email:</strong> ${passengerEmail}
            `;
            updateProgressBar(3);
        }

        function confirmBooking() {
            // Show loading message during the booking process
            document.getElementById('loading-message').style.display = 'block';
            
            setTimeout(() => {
                const busService = sessionStorage.getItem('selectedBusService');
                const redirectUrl = busServiceUrls[busService];
                alert('Booking confirmed! Redirecting...');
                document.getElementById('loading-message').style.display = 'none';
                window.location.href = redirectUrl;
            }, 2000); // Simulate processing delay
        }

        function goBackToBusSelection() {
            document.getElementById('booking-summary').style.display = 'none';
            document.getElementById('instructions').style.display = 'none';
            document.getElementById('busSelectionSection').style.display = 'block';
            updateProgressBar(1);
        }

        function updateProgressBar(step) {
            const steps = ['step1', 'step2', 'step3'];
            steps.forEach((stepId, index) => {
                if (index < step) {
                    document.getElementById(stepId).classList.add('active');
                } else {
                    document.getElementById(stepId).classList.remove('active');
                }
            });
        }
    </script>
</body>
</html>